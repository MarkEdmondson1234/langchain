This code defines a wrapper class `SelfHostedHuggingFaceEmbeddings` around HuggingFace embedding models for self-hosted remote hardware. The class includes two functions: `_embed_documents` and `load_embedding_model`. `_embed_documents` is an inference function that sends a sentence_transformer model ID to the remote hardware and returns a list of embeddings for each document in the batch. `load_embedding_model` loads the embedding model. The code includes a root validator that validates that the necessary environment variables and packages exist.

This code defines a wrapper class `SelfHostedHuggingFaceInstructEmbeddings` around HuggingFace embedding models for self-hosted remote hardware. The class includes two functions: `embed_documents` and `embed_query`. `embed_documents` computes document embeddings using a HuggingFace instruct model, and takes in a list of texts to embed. `embed_query` computes query embeddings using a HuggingFace instruct model, and takes in a text to embed. Both functions return embeddings as outputs. The code includes a root validator that validates that the necessary environment variables and packages exist.

