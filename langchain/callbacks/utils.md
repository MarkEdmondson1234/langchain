This code defines several utility functions for use in a callback handler. The functions include `import_spacy`, `import_pandas`, `import_textstat`, `_flatten_dict`, `flatten_dict`, `hash_string`, and `load_json`. These functions are used to import necessary packages, flatten dictionaries, hash strings, and load JSON files. The functions are not directly related to each other, but are used to support the main functionality of the callback handler.

This code defines a class called `BaseMetadataCallbackHandler` that handles metadata and associated function states for callbacks. The class has several attributes that keep track of the number of times certain methods have been called, as well as several lists that store records of method calls. The class also has several properties that return boolean values indicating whether certain types of callbacks should be ignored or always verbose.

This code defines a class called `BaseMetadataCallbackHandler` that handles metadata and associated function states for callbacks. The class has several attributes that keep track of the number of times certain methods have been called, as well as several lists that store records of method calls. The class also has several properties that return boolean values indicating whether certain types of callbacks should be ignored or always verbose. The `ignore_agent` property returns a boolean indicating whether to ignore agent callbacks, while the `get_custom_callback_meta` method returns a dictionary of metadata for the callback handler, and the `reset_callback_meta` method resets the metadata for the callback handler.

